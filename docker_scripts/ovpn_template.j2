# Generated by {{ script_name }}
client
tls-client
dev tun
proto {{ chosen_protocol }}
# {{ chosen_gateway['host'] }} / {{ chosen_gateway['location']['name'] }}, {{ chosen_gateway['location']['country_code'] }}
remote {{ chosen_gateway['ip_address'] }} {{ chosen_port }}
{% for k,v in openvpn_configurations[chosen_gateway['provider']].items() -%}
{% if v is boolean -%}
{{ k }}
{% elif k == 'tls-cipher' and v == 'DHE-RSA-AES128-SHA' -%}
{{ k }} TLS-DHE-RSA-WITH-AES-128-CBC-SHA
{% else -%}
{{ k }} {{ v }}
{% endif -%}
{% endfor -%}
resolv-retry infinite
nobind
verb 3
persist-key
persist-tun
reneg-sec 0
pull
auth-nocache
script-security 2
{#-
up /etc/openvpn/update-resolv-conf
down /etc/openvpn/update-resolv-conf
#}
tls-version-min 1.2
redirect-gateway ipv6
remote-cert-tls server
remote-cert-eku "TLS Web Server Authentication"
verify-x509-name {{ chosen_gateway['host'] }} name
<ca>
{{ ca_txt.rstrip() }}
</ca>
<cert>
{{ cert_txt.rstrip() }}
</cert>
<key>
{{ key_text.rstrip() }}
</key>
